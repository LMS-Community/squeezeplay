<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>jive.util.queue - mutexed queue for thread operations</title>
<link rev="made" href="mailto:root@b48.apple.com" />
</head>

<body style="background-color: white">

<p><a name="__index__"></a></p>
<!-- INDEX BEGIN -->

<ul>

	<li><a href="#description">DESCRIPTION</a></li>
	<li><a href="#synopsis">SYNOPSIS</a></li>
	<li><a href="#functions">FUNCTIONS</a></li>
	<ul>

		<li><a href="#insert_value_"><code>insert(value)</code></a></li>
		<li><a href="#remove_lock_"><code>remove(lock)</code></a></li>
		<li><a href="#newqueue_size_"><code>newqueue(size)</code></a></li>
	</ul>

	<li><a href="#license">LICENSE</a></li>
</ul>
<!-- INDEX END -->

<hr />
<p>
</p>
<h1><a name="description">DESCRIPTION</a></h1>
<p>Queue protected by a mutex useful for inter-thread communications. 
This is derived from the queue module provided in the Luathread distribution
by Diego Nehab, but changed so that locking is optional when removing from an empty queue.</p>
<p>
</p>
<hr />
<h1><a name="synopsis">SYNOPSIS</a></h1>
<pre>
 -- Create a new queue holding 10 elements
 local queue = jive.utils.queue.newqueue(10)</pre>
<pre>
 -- insert element. this will lock the thread if the queue is full
 queue:insert(something)</pre>
<pre>
 -- remove element. If lock is true, the thread may be locked
 local something = queue:remove(true)</pre>
<p>
</p>
<hr />
<h1><a name="functions">FUNCTIONS</a></h1>
<p>
</p>
<h2><a name="insert_value_"><code>insert(value)</code></a></h2>
<p>Inserts value in the queue. Will lock if the queue is full.</p>
<p>
</p>
<h2><a name="remove_lock_"><code>remove(lock)</code></a></h2>
<p>Removes an element from the queue. If lock is true, the thread may lock if the 
queue is empty. If lock is false and the queue is empty, the function returns nil.
Locking is false by default.</p>
<p>
</p>
<h2><a name="newqueue_size_"><code>newqueue(size)</code></a></h2>
<p>Creates a new mutexed queue holding size elements.</p>
<p>
</p>
<hr />
<h1><a name="license">LICENSE</a></h1>
<p>Copyright 2007 Logitech. All Rights Reserved.

</p>
<p>This file is subject to the Logitech Public Source License Version 1.0. Please see the LICENCE file for details.

</p>

</body>

</html>
